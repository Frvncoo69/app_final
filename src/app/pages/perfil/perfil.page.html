<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title style="text-align: center;">
      <ion-button fill="clear" [routerLink]="['/home']">
        TECNO STORE
      </ion-button>
    </ion-title>
    <ion-buttons slot="end">
      <ion-button [routerLink]="['/perfil']">
        <ion-icon slot="icon-only" name="person-outline"></ion-icon>
      </ion-button>
      <ion-button [routerLink]="['/carrito']">
        <ion-icon name="bag-handle-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <!-- Tarjeta de perfil con la imagen de perfil y nombre de usuario -->
  <ion-card>
    <img alt="Perfil" [src]="photoUrl || '/assets/icon/perfil.jpg'" />
    <ion-card-header>
      <ion-card-subtitle>{{ nombreUsuario }}</ion-card-subtitle>
    </ion-card-header>
  </ion-card>

  <!-- Bot칩n para actualizar la foto de perfil -->
  <div class="center-button-container">
    <ion-button class="custom-button" (click)="updateProfilePhoto()">
      <ion-icon name="camera-outline"></ion-icon> Agregar Foto
    </ion-button>
  </div>

  <!-- Lista de informaci칩n del usuario -->
  <ion-list>
    <ion-item class="profile-item">
      <ion-label>Rut:</ion-label>
      <ion-text>{{ usuario.rut_usu }}</ion-text>
    </ion-item>
    <ion-item class="profile-item">
      <ion-label>Nombre:</ion-label>
      <ion-text>{{ usuario.nombre_usu }} {{ usuario.apellido_usu }}</ion-text>
    </ion-item>
    <ion-item class="profile-item">
      <ion-label>Email:</ion-label>
      <ion-text>{{ usuario.correo_usu }}</ion-text>
    </ion-item>
  </ion-list>

  <!-- Grupo de botones organizados verticalmente -->
  <div class="button-group">
    <ion-button expand="block" class="custom-button" [routerLink]="'/editar'">
      Editar Perfil
    </ion-button>
    <ion-button expand="block" class="custom-button" [routerLink]="'/cambiarcontrasena'">
      Cambiar Contrase침a
    </ion-button>
    <ion-button  *ngIf="rolA !== 2" expand="block" class="custom-button" [routerLink]="'/listarusuarios'">
      Listar Usuarios
    </ion-button>
    <ion-button expand="block" class="custom-button" [routerLink]="'/retiro'">
      Boleta/Retiro
    </ion-button>
    <ion-button expand="block" class="custom-button" color="danger" (click)="eliminarPerfil()">
      Eliminar Perfil
      <ion-icon name="trash-outline"></ion-icon>
    </ion-button>
    <ion-button expand="block" class="custom-button" (click)="cerrarSesion()">
      Cerrar Sesi칩n
      <ion-icon name="log-out-outline"></ion-icon>
    </ion-button>
  </div>
</ion-content>
